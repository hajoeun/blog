---
series: essay
title: 복잡한 상황에서 단순하게 일하는 방법
description: 세가지 큐(Queue)를 사용해 복잡한 상황에서도 단순하게 일하는 방법을 공유합니다.
tags:
  - 에세이
date: 2022-02-20 23:00:00
slug: three-queues-managmenet
---

소프트웨어를 개발하다 보면 굉장히 복잡한 상황을 자주 마주한다. 분명히 이슈를 해결하고 있었는데 정신을 차리고 보면 완전 다른 문제 때문에 고민하고 있는 경우가 종종 있다. 슬픈 건 원래 해결하려던 이슈는 제자리 걸음이라는 점. 이럴 땐 몸은 하나인데 여러가지 일이 동시에 처리되길 기대하는 것처럼 느껴진다.

사실 우리는 한번에 하나의 일 밖에 처리하지 못한다. 나는 이런 상태를 싱글스레드에 종종 비유한다. 한번에 하나씩 처리할 수 있다는 것. 때문에 복잡한 상황에도 문제를 한번에 하나씩 처리할 수 있는 환경을 만들어야 한다. 오늘은 내 나름의 노하우를 소개한다.

<br/>

### Three Queues Managmenet

오늘 소개할 노하우를 Three Queues Managmenet라고 이름 붙였다. (뭐든 그럴싸한 이름이 있어야 기억에 남는다.)

우선 큐(Queue)의 개념에 대해 잠깐 짚고 가자. 단순하게 설명하면 큐는 일종의 투두 리스트(TODO List)다. 일반 투두 리스트와 큐를 구분하는 건 한가지 특징이다. 선입선출(FIFO: First In First Out)이라는 특징이다.

1. 새로운 일이 생기면 가장 아랫줄에 적어야한다.
2. 가장 위에 적은 일부터 처리해야한다.

본격적으로 세가지 큐를 살펴보며 복잡한 상황에서 단순하게 일하는 법을 살펴보자.

<br/>

#### 1. Backlog Queue: 해야할 일을 쌓는 백로그 큐

복잡하게 쏟아지는 일을 나름의 기준으로 분류된 큐에 쌓아둔다. 이 큐를 백로그 큐라고 부르자. 인트로에서 예를 든 상황이라면 지금 집중하고 있는 문제가 아닌 새로운 문제가 생기면 그 일은 백로그 큐로 보내는거다.

이때 백로그 큐는 N개가 될 수 있다. 하나의 백로그 큐에서 태그 등으로 분류할 수도 있다. 혹은 둘 다 할 수도 있지만 너무 많은 분류를 두는건 이후 메인 큐를 만들 때 어렵게 만들 수 있다. 5개 내로 분류해두는 걸 권하고 싶다.

분류의 기준은 저마다 다를 수 밖에 없다. 예를 들자면 도메인의 종류일 수도 있다. 개인이 여러 플랫폼을 맡고 있다면 그게 기준이다.

<br/>

#### 2. Main Queue: 실제로 해결해야 하는 일을 쌓는 메인 큐

업무의 주기가 있을 것이다. 1주 단위로 진행할 수도 있고 2주 단위일 수도 있다. 경험상 스프린트라는 이름으로 이 주기를 불렀다. 한 스프린트 내에 해결해야 하는 일을 쌓아두는 곳이 메인 큐다.

새로운 스프린트가 시작되기 전에 백로그 큐에서 하나씩 일을 꺼내서 메인 큐에 넣을지 판단한다. 이번에 해결해야 한다면 메인 큐로 옮기고 그렇지 않다면 다시 백로그 큐에 넣는다.

메인 큐에 넣을지 판단하는 기준 역시 저마다 다르다. 중요한 건 기준이 있어야한다는 점이다. 팀 차원에서 기준을 정의해두면 좋다. 요즘은 그 기준을 위해 OKR을 사용하고 있다. OKR을 기준으로 백로그 큐에서 꺼낸 일이 이번 스프린트에 처리되는지 판단하고 메인 큐를 완성한다.

스프린트가 시작되면 메인 큐에 있는 일을 하나씩 꺼내서 수행하면 된다.

<br/>

#### 3. Side Queue: 시급하게 해결해야 일을 쌓는 사이드 큐

메인 큐에 쌓인 일만 처리해라고 한다면 큰 문제가 생길 수도 있다. 정말 시급한 문제를 다루기 위해 다음 스프린트가 시작될 때까지 기다리거나 메인 큐가 빌 때까지 기다려야하기 때문이다. 이런 경우를 방지하기 위한 큐가 사이드 큐.

메인 큐의 순서를 무시할 수 있는 큐다. 특정 기준에 따라 이 사이드 큐에 업무를 쌓는다. 핫픽스나 코드 리뷰 같은 경우다. 코드 리뷰가 되어야 일이 진행되기 때문.

하지만 일의 흐름이 끊기는게 좋진 않기 때문에 개인적으론 사이드 큐를 처리하는 일정을 비워두는걸 권하고 싶다. 예를 들면 리뷰 아워를 만드는 방법도 있다. 매일 아홉시부터 한시간은 코드 리뷰만 한다고 정의해서 그 외의 시간에는 메인 큐를 비우는 일에 집중할 수 있다.

<br/>

### 정리

한번 더 강조하자면 오늘 제시한 방법은 굉장히 단순해 보이지만 실제로 수행하긴 그리 쉽지 않다. 첫째로는 기준을 정하기 어렵기 때문이고 둘째로는 기준이 있더라도 감정에 의해 흔들리기 때문. 개인적으로는 감정이 가장 힘든 점이다. 미안함, 두려움, 조급함, 찝찝함 등의 감정을 느낀다. 이 감정을 무시하고 큐를 관리하는게 생산성을 높여준다.

오늘 제시한 방법을 잘 수행하는 핵심은 '잘 미루는 것'이다. 새로운 일이 들어왔을 때 지금은 못한다고 단호하게 No라고 말할 수 있어야 한다. 보통 이 지점에서 쉽지 않아진다. 여러 복합적인 감정 때문에 No라는 말을 하기 어렵기 때문이다.

혹시 미안한 감정이 든다면 미안할 필요 없다. 모두 하나의 목표를 향해 가고 있다면 지금 No라고 말하는게 결국엔 이득이 된다. 그리고 당장 급하다고 말하는 이슈 중 상당수는 실제로 그렇게 급하지 않은 경우가 많다. 기준을 세워두고 급하지 않다고 판단되는 이슈는 잘 미뤄야 한다.

<br/>

### 첨언

여기까지 읽으면서 아마도 JavaScript [이벤트 루프](https://ko.javascript.info/event-loop)가 떠올랐을 것이다. 개인적으로 사람은 싱글스레드이기 때문에 이벤트 루프의 동작처럼 일을 처리해야한다고 믿는다. 때문에 이런 일하는 방식을 제시했다. 굳이 이벤트 루프와 1:1로 비유를 섞으면 설명이 장황해지고 이해하기 어려워질 것 같아 포기했다.

오늘 노하우를 실제로 적용한 사례를 [뱅크샐러드 블로그에 공유한 적](https://blog.banksalad.com/tech/grow-fearlessly/)이 있다. 참고 자료가 되었음 좋겠다.
