---
series: essay
title: 눈을 감으니 보이는 것들
description: 접근성 작업을 하며 느낀 것들
tags:
  - 에세이
date: 2022-03-22 23:00:00
slug: what-i-see-when-i-close-my-eyes
---

> "웹의 힘은 그 광범위함에 있다. 장애에 관계 없이 모든 사람이 접근할 수 있다는 것이 절대적인 장점이다." - [팀 버너스 리](https://www.w3.org/Press/IPO-announce)

장애에 관계 없이 모든 사람이 접근할 수 있는 서비스를 만들기 위해 접근성 작업을 하게 됐다. 기존 서비스는 접근성 대응이 미흡했다. 접근성을 개선해 시각 장애인도 서비스의 핵심 기능을 쓸 수 있도록 만들어야 했다.

<br/>

#### 스크린 리더 사용법 익히기

접근성 대응을 위한 첫번째 관문은 장애를 가진 유저가 어떻게 서비스를 사용하고 있는지 아는 것이다. 그들과 동일한 방법으로 우리 서비스를 사용할 수 있어야 했다. iOS에서 제공하는 스크린 리더인 보이스오버(VoiceOver)를 익히기로 했다.

우선 **'설정 > 손쉬운 사용 > 순쉬운 사용 단축키'**로 가서 '측면 버튼 삼중 클릭' 했을 때 'VoiceOver'가 켜지도록 설정한다. 손쉬운 사용 메뉴에서 토글 버튼을 눌러 바로 보이스오버를 활성화할 순 있지만 보이스오버가 처음인 경우에는 보이스오버로 토글 버튼을 끌 수 없기 때문에 굉장히 당황스러울 수 있다.

이제 측면 버튼을 삼중 클릭해서 보이스오버를 켜자. 개인적으로 처음엔 단조로운 기계음 때문인지 무서웠다. 본능대로 터치로 기능을 제어할 수 없으니 답답하기도 했다. 갑자기 기계음이 나오니 주변에서도 놀라 쳐다보는 일도 있었다. 접근성 작업에는 이어폰이 필수다.

스와이프로 항목을 이동할 수 있고 더블 클릭으로 항목을 클릭할 수 있다. 홈으로 가기 위해선 화면 아래를 길게 끌어 화면 중앙으로 이동하면 된다. 자세한 사용법은 류성두님의 유튜브([보이스오버와 친해지기](https://youtu.be/M3JF7ZJixaY))에서 참고하길 권한다.

보이스오버를 켜고 끄고 항목을 선택할 수 있게 되면 무서웠던 기계음이 제법 귀엽게 느껴지기 시작한다. 이제 작업할 준비가 됐다.

<br/>

#### 접근성을 개선할 서비스를 스크린 리더로 제어해보기

우리 서비스가 장애를 가진 유저에겐 어떻게 느껴지는지 확인해볼 차례다. 개선할 화면에서 보이스오버를 켜보자. 처음 드는 생각은 "뭐야! 엉망이잖아?"였다. 보이스오버가 투머치토커가 된 것처럼 아무 정보나 읽어주기도하고 때론 정작 중요한 정보는 읽어주지 않기도 했다.

중요한 정보를 읽어주지 않는 이유는 지정된 대체 텍스트가 없기 때문이었다. 대체 텍스트는 텍스트 요소가 아닌 경우에 어떻게 해당 요소를 유저에게 설명할지 명시한 문자열이다. 이미지의 경우 **alt**라는 속성으로 대체 텍스트를 정의하는데 그 외의 요소에선 **aria-label**과 같은 속성으로 항목이 어떻게 설명될지 정의해줄 수 있다.

보이스오버가 아무 정보나 읽어주는 이유는 요소의 그룹화가 잘못 되었기 때문이었다. 클릭이 가능한 항목 하위에 이미지와 텍스트가 있다면 경우에 따라 이미지와 텍스트를 모두 읽게 된다. 유저가 알고 싶은 정보는 해당 항목이 클릭이 가능하고 클릭했을 때 어떤 일이 일어나는지에 대한 정보인데 굳이 설명할 필요 없는 이미지 정보도 읽어버리는 것. 이때는 하위 항목을 잘 그룹화해서 대체 텍스트를 지정해주면 된다.

<br/>

#### 시맨틱 마크업(Semantic Markup)의 중요성

웹뷰를 기반으로한 서비스를 개발하면서 [시맨틱 마크업](https://developer.mozilla.org/ko/docs/Glossary/Semantics#html_%EC%8B%9C%EB%A7%A8%ED%8B%B1)을 잊고 지냈다. 앱 밖에서 진입할 경우가 없으니 SEO를 신경쓰지도 않아도 된다는 이유가 컸다. 접근성을 이유로 시맨틱한 마크업을 고려하자니 디자인 시스템을 구현하기 어려워진다는 판단도 있었다. 복잡도를 낮추고 빠르게 개발하기 위한 선택이었다. 때문에 section, header, footer, nav 같은 태그는 잊혀지고 div로 대부분의 요소를 구성했었다.

접근성을 작업하면서 과거의 판단에 아쉬움을 느꼈다. 명시적인 변수 선언은 중요하게 생각하면서 정작 마크업에는 의미를 담지 않았다는게 부끄러웠다. 실제로 접근성을 개선하면서 div를 header, footer, nav로 바꾸고 다이얼로그 컴포넌트의 role 속성을 dialog로 설정했다. 어렵지 않은 작업이었다. 이 단순한 작업으로 보이스오버가 읽는 정보의 수준은 급격하게 상승했다.

<br/>

#### 컴포넌트별 대응 요령

**상태가 있는 버튼**은 aria-label에 상태 정보를 함께 전달해줘야 한다. 동의 버튼을 예로 들 수 있다. 이미 동의에 체크한 경우엔 '동의한 체크박스 버튼'이라고 읽혀야 하고 동의하기 전에는 '동의하지 않은 체크박스 버튼'으로 읽혀야 한다.

**정보를 담지 않은 이미지**는 aria-hidden을 이용하자. 시각적인 미려함을 위해 존재하는 이미지를 읽는 건 중요한 정보에 접근하는데 방해가 된다. 스크린 리더가 읽지 않아도 되는 경우에는 적절하게 무시할 수 있도록 해줘야 한다.

**다이얼로그나 모달**의 경우에는 포커스 관리를 해주자. 보통 다이얼로그 같은 요소가 나타날 땐 딤(dim) 요소로 배경을 흐리게 처리한다. 배경을 클릭하면 다이얼로그가 닫히는게 일반적이다. 별다른 대응을 해주지 않는다면 흐리게 처리된 배경에 있는 정보를 스크린 리더가 읽게 된다. 다이얼로그가 나타났을 때 읽으면 안되는 요소에 aria-hidden을 활성화 시켜주면 문제가 해결된다. 개인적으론 [focus-trap](https://github.com/focus-trap/focus-trap)이라는 라이브러리를 사용했다. ([리액트 버전](https://github.com/focus-trap/focus-trap-react)도 있다.)

<br/>

#### 웹뷰 접근성 디버깅 팁

웹뷰 디버깅을 위해 시뮬레이터와 함께 [Accessibility Inspector](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&ved=2ahUKEwifsLe2rdn2AhVkr1YBHd6lCn0QFnoECAcQAQ&url=https%3A%2F%2Fdeveloper.apple.com%2Flibrary%2Farchive%2Fdocumentation%2FAccessibility%2FConceptual%2FAccessibilityMacOSX%2FOSXAXTestingApps.html&usg=AOvVaw3Lkph0N6r8lYvQRvz5siyi)를 사용할 수 있다. 하지만 실제 보이스오버와 다른 경우가 있기 때문에 시뮬레이터 대신 단말기에 직접 빌드해서 보이스오버로 디버깅하길 권한다.

<br/>

#### 확인하면 도움되는 자료

[리액트 공식 문서 - 접근성](https://ko.reactjs.org/docs/accessibility.html)을 읽어보는게 많은 도움이 됐다. 디버깅 툴이나 모범 사례도 소개하니 꼭 리액트로 개발하는 경우가 아니라도 확인해보길 권한다.

웹 브라우저에서 접근성 대응이 잘 되었는지 확인하는데는 파이어폭스가 가장 좋았다. 특히 [페이지 탭 순서보기 기능](https://developer.mozilla.org/ko/docs/Tools/Accessibility_inspector#show_web_page_tabbing_order)이 유용했다. 다이얼로그에서 포커스를 관리할 때 많이 사용했다.

[FEConf 2021 - 모두를 위한 모바일웹: 접근성을 준수해서 스크린리더 UX 개선하기](https://www.youtube.com/watch?v=tKj3xsXy9KM) 영상은 정말 좋은 레퍼런스다. 웹뷰를 기반으로 하는 서비스의 접근성 개선 사례라 더욱 좋았다. 실제로 작업하면서 느낀 문제와 해결책을 많이 담고 있어서 공감하며 봤다.

위에서도 언급한 것처럼 보이스오버 사용법은 [보이스오버와 친해지기](https://youtu.be/M3JF7ZJixaY)를 참고했다. [AOA11Y 채널](https://www.youtube.com/c/AOA11Y)도 구독하면 이 글 보다 정확한 정보를 습득할 수 있다.
